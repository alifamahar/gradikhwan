<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Undangan Spesial</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Bellefair&family=Great+Vibes&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Jersey+20&family=Monsieur+La+Doulaise&family=Newsreader:ital,opsz,wght@0,6..72,200..800;1,6..72,200..800&display=swap"
        rel="stylesheet">

    <style>
        /* RESET */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(#27456179, #0000004e),
                url('bgg.jpg') no-repeat center / cover;
            background-attachment: fixed;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: white;
            overflow-x: hidden;
            scroll-behavior: smooth;

        }

        /* BACKGROUND */
        .background {
            position: absolute;
            inset: 0;
            display: none;
            z-index: -1;
        }


        .hero-section {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* ANIMASI AWAL SEALED */
        .initial-blur {
            filter: blur(20px);
            opacity: 0;
            transform: translateY(40px);
            animation: introReveal 1.4s cubic-bezier(.4, 0, .2, 1) forwards;
        }

        @keyframes introReveal {
            to {
                filter: blur(0);
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* CONTAINER UTAMA */
        .container {
            position: relative;
            width: 800px;
            max-width: 95vw;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .hidden {
            display: none !important;
        }


        /* ---------------- STEP 1: AMPLOP TERTUTUP ---------------- */
        .sealed-img {
            width: 100%;
            cursor: pointer;
            transition: transform 0.3s ease;
            border-radius: 10px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.6);
        }

        .sealed-img:hover {
            transform: scale(1.03);
        }

        /* ---------------- STEP 3: RAKITAN AMPLOP TERBUKA ---------------- */
        .envelope-assembly {
            position: relative;
            width: 100%;
            height: 600px;
            display: flex;
            justify-content: center;
            align-items: flex-end;
        }

        .env-layer {
            position: absolute;
            width: 100%;
            bottom: 0;
            user-select: none;
        }

        .env-back {
            z-index: 1;
        }

        .env-front {
            z-index: 3;
            pointer-events: none;
        }

        .env-drop .env-layer {
            transform: translateY(180px);
            transition: bottom 0.5s cubic-bezier(0.25, 0.1, 0.25, 1), transform 0.5s;
        }

        /* POSISI SURAT DI DALAM AMPLOP */
        .letter-container {
            position: absolute;
            width: 60%;
            bottom: 150px;
            z-index: 2;
            transition: bottom 1.5s cubic-bezier(0.25, 0.1, 0.25, 1), transform 1s;
            cursor: pointer;
            overflow: hidden;
            height: 380px;
            border-radius: 8px;
            background: white;
        }

        .letter-content {
            width: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }

        /* ANIMASI SAAT SURAT DIKLIK (NAIK KE ATAS) */
        .letter-slide-up {
            bottom: 200px;
            height: 550px;
            /* PERBAIKAN: z-index dinaikkan jadi 5 agar benar-benar di depan env-front (z-index 3) */
            z-index: 2;
            overflow: visible;
        }

        /* ---------------- FINAL VIEW (FULLSCREEN) ---------------- */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #274561b7;
            backdrop-filter: blur(8px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            animation: fadeIn 0.5s forwards;
        }

        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }

        .final-letter {
            width: 30%;
            max-width: 100%;
            max-height: 90vh;
            border-radius: 8px;
            transform: scale(0.8);
            animation: popIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        @keyframes popIn {
            to {
                transform: scale(1);
            }
        }

        /* SECTION 2: GALLERY */
        /* Ganti atau tambahkan di dalam <style> */

        .gallery-section {
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(#0000004e, #27456199), url('bg2.jpg') no-repeat center center/cover;
            opacity: 0;
            pointer-events: none;
            transition: opacity 1.5s ease;

        }

        /* Container utama untuk layout foto & teks */
        .gallery-wrapper {
            display: flex;
            width: 100%;
            max-width: 1000px;
            justify-content: space-between;
            align-items: center;
            gap: 50px;

        }

        .gallery-visible {
            opacity: 1;
            pointer-events: auto;
        }


        /* Sisi Kiri: Teks Pantun */
        .text-left {
            flex: 1;
        }

        .text-left h1 {
            font-family: 'Inter', sans-serif;
            /* Sesuaikan font */
            font-size: 8rem;
            line-height: 1.1;
            font-weight: bold;
            color: white;
            text-align: left;
            -webkit-text-fill-color: initial;
            /* Menghapus gradient dari kode lama */
            background: none;
        }

        /* Sisi Kanan: Foto & Label */
        .profile-right {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        .profile-label {
            font-size: 4rem;
            margin-bottom: 20px;
            color: white;
            font-family: 'Inter', sans-serif;
        }

        /* Update bagian ini di dalam <style> Anda */

        .profile-circle {
            width: 600px;
            height: 600px;
            border-radius: 50%;
            overflow: hidden;
            /* Penting untuk memotong sudut video agar bulat */
            background: #fff;
            /* Opsional: border putih tipis jika perlu */
            display: flex;
            /* Tambahkan ini */
            justify-content: center;
            /* Tambahkan ini */
            align-items: center;
            /* Tambahkan ini */
        }

        .profile-circle video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            /* Penting untuk memastikan video mengisi lingkaran tanpa distorsi */
            display: block;
        }

        .profile-circle:hover {
            transform: scale(1.03);
        }

        /* Responsif untuk HP */
        @media (max-width: 768px) {

            /* ... kode media query lainnya ... */
            .profile-circle {
                width: 250px;
                height: 250px;
            }
        }

        /* --- photos SECTION --- */
        .photos-section {
            min-height: 100vh;
            padding: 50px 200px 50px 200px;
            background: linear-gradient(#0000004e, #27456199), url('bg2.jpg') no-repeat center center/cover;
            opacity: 0;
            /* transform: translateY(50px); */
            transition: opacity 1s ease, transform 1s ease;
            min-width: 80vh;
        }

        .photos-section-visible {
            opacity: 1;
            transform: translateY(0);
        }

        .section-title {
            text-align: center;
            font-family: "Great Vibes";
            font-size: 6rem;
            margin-bottom: 50px;
            margin-top: 50px;
        }

        .photo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 40px;
            max-width: 80%;
            margin: 0 auto;
        }

        /* --- LOGIKA HOVER FOTO --- */
        .polaroid {
            background: white;
            padding: 15px 15px 50px 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
            transition: transform 0.4s ease;
            position: relative;
            box-shadow: #1a1a1a;
        }

        .img-container {
            position: relative;
            width: 100%;
            aspect-ratio: 4 / 5;
            /* Biar kotak sempurna */
            overflow: hidden;
            background: #eee;
        }

        .img-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            transition: opacity 0.6s ease-in-out;
        }

        /* Gambar kedua ditumpuk dan dibuat transparan */
        .img-hover {
            opacity: 0;
        }

        /* Efek saat Polaroid di-hover */
        .polaroid:hover {
            transform: scale(1.05) rotate(0deg) !important;
            z-index: 20;
        }

        .polaroid:hover .img-default {
            opacity: 0;
        }

        .polaroid:hover .img-hover {
            opacity: 1;
        }


        .caption-hover {
            text-align: center;
            font-family: "Bellefair";
            font-size: 2rem;
            font-weight: bold;
            color: #7a6137;
            opacity: 0;
        }


        .foto2:hover .caption {
            opacity: 0;
        }

        .foto2:hover .caption-hover {
            opacity: 1;
        }

        .main-container {
            display: block;
            min-height: 100vh;
            background: linear-gradient(#27456199, #27456199), url('bg3.jpg') no-repeat center center/cover;
            transition: opacity 1s ease, transform 1s ease;
            min-width: 100%;
            opacity: 0;
            overflow: hidden;
        }

        .amplopfoto {
            display: flex;
            align-items: center;
            position: relative;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 0px;
            margin-bottom: 100px;
        }

        .title {
            width: 100%;
            text-align: center;
            font-family: "Great Vibes";
            font-size: 6rem;
            margin-top: 120px;
            color: white;
            margin-bottom: -20px;
        }

        .amplop-box {
            position: relative;
            width: 80vh;
            height: 80vh;
            cursor: pointer;
            z-index: 1;
            transform: translateX(-10%) rotate(-5deg);
            transition: transform 0.3s ease;
            box-shadow: aliceblue 0.5;
        }

        .amplop-box:hover {
            transform: rotate(-2deg) scale(1.05);
        }

        .amplop,
        .amplop-back {
            position: absolute;
            width: 100%;
            bottom: 0;
        }

        .amplop-back {
            z-index: 1;
        }

        .surat {
            position: absolute;
            top: 40px;
            left: 50%;
            transform: translateX(-50%) translateY(400px);
            width: 350px;
            z-index: 2;
            transition: 0.8s;
            background: #ffffff;
            padding: 15px 15px 45px 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);

        }

        .amplop {
            z-index: 3;

        }

        .open .surat {
            transform: translateX(-50%) scale(1.2);
        }

        .foto,
        .foto2 {
            background: white;
            padding: 15px 15px 40px 15px;
            box-shadow: 10px 10px 30px rgba(0, 0, 0, 0.5);
            width: 500px;
            border: 25px solid #3e678d;
            margin-left: -200px;
            z-index: 10;
            transform: rotate(5deg);
            transition: transform 0.3s ease;
            z-index: 10;
        }

        .foto {
            margin-left: -250px;
            transform: rotate(5deg);
        }

        .foto2 {
            margin-left: -100px;
            transform: rotate(-8deg);
        }

        .foto:hover,
        .foto2:hover {
            transform: rotate(0deg) scale(1.05);
        }

        .img-container {
            width: 100%;
            aspect-ratio: 4 / 5;
            overflow: hidden;
            background: #eee;
        }

        .img-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .caption {
            text-align: center;
            margin-top: 15px;
            font-family: "Bellefair";
            font-size: 1.5rem;
            font-weight: bold;
            color: #274561;
        }

        .main-container-visible {
            opacity: 1;
            pointer-events: auto;
        }
        /* === RESPONSIVE SCALE FIX (TANPA UBAH LAYOUT & UKURAN) === */
html, body {
    width: 100%;
    height: 100%;
}

body {
    overflow-x: hidden;
}

/* Desktop kecil & Laptop */
@media (max-width: 1366px) {
    body {
        transform: scale(0.9);
        transform-origin: top center;
    }
}

/* Tablet */
@media (max-width: 1024px) {
    body {
        transform: scale(0.8);
        transform-origin: top center;
    }
}

/* Mobile */
@media (max-width: 768px) {
    body {
        transform: scale(0.65);
        transform-origin: top center;
    }
}

/* Mobile kecil */
@media (max-width: 480px) {
    body {
        transform: scale(0.55);
        transform-origin: top center;
    }
}

    </style>
</head>

<body>
    <audio src="Prologue.mp3" id="bg-audio" preload="auto">
    </audio>

    <div class="background"></div>

    <section class="hero-section">
        <div class="container">

            <div id="step-sealed">
                <img src="sealed.png" class="sealed-img" alt="Amplop Tertutup">
            </div>

            <div id="step-opened" class="envelope-assembly hidden">

                <img src="envelope-back.png" class="env-layer env-back" alt="Amplop Belakang">

                <div id="letter-container" class="letter-container">
                    <img src="letter.png" class="letter-content" alt="Isi Surat">


                </div>

                <img src="envelope-front.png" class="env-layer env-front" alt="Amplop Depan">

            </div>

        </div>
    </section>
    <div class="photos-section" id="photos">
        <h2 class="section-title">How It Started</h2>

        <div class="photo-grid">
            <div class="polaroid" style="transform: rotate(-3deg);">
                <div class="img-container">
                    <img src="1.jpg" alt="Foto Default" class="img-default">
                    <img src="5.png" alt="Foto Hover" class="img-hover">
                </div>
                <div class="caption">You</div>
            </div>

            <div class="polaroid" style="transform: rotate(2deg);">
                <div class="img-container">
                    <img src="2.jpeg" alt="Foto Default" class="img-default">
                    <img src="ikhwan2.png" alt="Foto Hover" class="img-hover">
                </div>
                <div class="caption">did</div>
            </div>

            <div class="polaroid" style="transform: rotate(-1deg);">
                <div class="img-container">
                    <img src="3.jpeg" alt="Foto Default" class="img-default">
                    <img src="5.png" alt="Foto Hover" class="img-hover">
                </div>
                <div class="caption">great!⋆˙⟡</div>
            </div>
        </div>
    </div>
    <div class="main-container" id="main-container">
        <div class="amplopfoto">
            <h2 class="title">How It Ends</h2>
            <div class="amplop-box" onclick="opensurat()">
                <img src="t.png" class="amplop-back">
                <img src="1.jpg" class="surat" id="surat">

                <img src="envelope-front.png" class="amplop">
            </div>


            <div class="foto">
                <div class="img-container">
                    <img src="1.jpg" alt="Graduation Photo">
                </div>
                <div class="caption">M. Khairul Ikhwan, S.E.</div>

            </div>
            <div class="foto2" id="foto2">
                <div class="img-container">
                    <img src="1.jpg" alt="Graduation Photo">
                </div>
                <div class="caption" align-text="right">Tue, 02 February 2026</div>
                <div class="caption-hover">click to continue.ᐟ.ᐟ ݁</div>
            </div>
        </div>
    </div>
    <div class="gallery-section" id="gallery">
        <div class="gallery-wrapper" id="gallery-wrapper">

            <div class="text-left" id="teks">
                <h1>Beli<br>Bakwan<br>Sama<br>Prabowok</h1>
            </div>

            <div class="profile-right" id="vid">
                <p class="profile-label">Si Ikhwan sedang</p>
                <div class="profile-circle">
                    <video src="video-ikhwan.mp4" autoplay muted playsinline>
                        Your browser does not support the video tag.
                    </video>
                </div>
            </div>

        </div>

    </div>


    <div id="final-view" class="overlay hidden">
        <img src="letter.png" class="final-letter" alt="Surat Full">
    </div>



    <script>
        window.opensurat = function () {
            document.querySelector('.amplop-box').classList.toggle('open');
        };
        document.addEventListener("DOMContentLoaded", () => {
            const sealed = document.getElementById("step-sealed");
            const opened = document.getElementById("step-opened");
            const letter = document.getElementById("letter-container");
            const finalView = document.getElementById("final-view");
            const text = document.getElementById("teks");
            const video = document.getElementById("vid");
            const photos = document.getElementById("photos");
            const amplop = document.getElementById("main-container");
            const lagu = document.getElementById("bg-audio");
            const foto2 = document.getElementById("foto2");

            // === INTRO EFFECT ===
            sealed.classList.add("initial-blur");

            setTimeout(() => {
                window.scrollTo({
                    top: 40,
                    behavior: "smooth"
                });
            }, 600);

            /* KLIK AMPLOP TERTUTUP -> BUKA AMPLOP */
            sealed.addEventListener("click", () => {
                sealed.classList.add("hidden");
                opened.classList.remove("hidden");
                opened.classList.add("initial-blur");
                lagu.play().catch(() => { });
            });

            /* KLIK SURAT */
            letter.addEventListener("click", () => {
                letter.classList.add("letter-slide-up");
                opened.classList.add("env-drop");
                // photos.classList.add("photos-section-visible");
                amplop.classList.add("main-container-visible");

                setTimeout(() => {
                    finalView.classList.remove("hidden");
                }, 2000);
            });

            /* TUTUP OVERLAY */

            finalView.addEventListener("click", () => {
                finalView.classList.add("fade-out");

                setTimeout(() => {
                    finalView.classList.add("hidden");
                    finalView.classList.remove("fade-out");
                }, 500);
                setTimeout(() => {
                    photos.scrollIntoView({ behavior: 'smooth' });
                    photos.classList.add("initial-blur");
                    photos.classList.remove("hidden");
                    amplop.classList.add("initial-blur");
                    amplop.classList.remove("hidden");
                }, 1000);
            });
            foto2.addEventListener("click", () => {
                window.location = 'game.html'
            });
        });
    </script>

</body>

</html>